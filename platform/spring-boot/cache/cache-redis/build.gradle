apply from: "$rootDir/gradle/config-loader.gradle"

def modules = loadStackConfig()

dependencies {
    // Lib
    api 'org.springframework.boot:spring-boot-starter-cache'

    // Platform
    switch (modules['redis']) {
        case 'standalone':
            api project(':redis-standalone')
            break
        case 'cluster':
            api project(':redis-cluster')
            break
        default:
            throw new IllegalArgumentException("Unsupported ${modules['redis']}")
    }
}
